<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>minilola.typ_ext_soundness</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library minilola.typ_ext_soundness</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">minilola</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="minilola.lang.html#"><span class="id" title="library">lang</span></a> <a class="idref" href="minilola.sem.html#"><span class="id" title="library">sem</span></a> <a class="idref" href="minilola.opt.html#"><span class="id" title="library">opt</span></a> <a class="idref" href="minilola.typ.html#"><span class="id" title="library">typ</span></a> <a class="idref" href="minilola.typ_soundness.html#"><span class="id" title="library">typ_soundness</span></a> <a class="idref" href="minilola.typ_ext.html#"><span class="id" title="library">typ_ext</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">FunctionalExtensionality</span> <span class="id" title="library">Lia</span> <span class="id" title="library">Sorting.Permutation</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h1 class="section">Soundness Proof of the Pacing Type System</h1>

<div class="paragraph"> </div>

<a id="lab20"></a><h2 class="section">Preliminary Definitions</h2>

<div class="paragraph"> </div>

 Compute the last defined value in a finite stream prefix 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="plast" class="idref" href="#plast"><span class="id" title="definition">plast</span></a> (<a id="w:1" class="idref" href="#w:1"><span class="id" title="binder">w</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#w:1"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vx</span><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">w</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vx</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">w</span> ⇒ <a class="idref" href="minilola.typ_ext_soundness.html#plast:2"><span class="id" title="definition">plast</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#w:1"><span class="id" title="variable">w</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
  Semantic of expressions under partial output maps
  and knowing a prefix <span class="inlinecode"><span class="id" title="var">vx</span></span> for output stream <span class="inlinecode"><span class="id" title="var">x</span></span>.

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="PartialExprSem" class="idref" href="#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> (<a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="vx:5" class="idref" href="#vx:5"><span class="id" title="binder">vx</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a>)) (<a id="e:6" class="idref" href="#e:6"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="rin:7" class="idref" href="#rin:7"><span class="id" title="binder">rin</span></a> : <a class="idref" href="minilola.lang.html#InMap"><span class="id" title="definition">InMap</span></a>) (<a id="rout:8" class="idref" href="#rout:8"><span class="id" title="binder">rout</span></a> : <a class="idref" href="minilola.typ_soundness.html#Pmap"><span class="id" title="definition">Pmap</span></a>) (<a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#e:6"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EVar"><span class="id" title="constructor">EVar</span></a> (<a class="idref" href="minilola.lang.html#Varin"><span class="id" title="constructor">Varin</span></a> <span class="id" title="var">y</span>) ⇒ <a class="idref" href="minilola.sem.html#sync"><span class="id" title="definition">sync</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <span class="id" title="var">y</span>) <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EVar"><span class="id" title="constructor">EVar</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <span class="id" title="var">y</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">w</span> ⇒ <a class="idref" href="minilola.sem.html#sync"><span class="id" title="definition">sync</span></a> <span class="id" title="var">w</span> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EVal"><span class="id" title="constructor">EVal</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EPrev"><span class="id" title="constructor">EPrev</span></a> (<a class="idref" href="minilola.lang.html#Varin"><span class="id" title="constructor">Varin</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">e</span> ⇒ <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <span class="id" title="var">y</span>) <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EPrev"><span class="id" title="constructor">EPrev</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">e</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#plast"><span class="id" title="definition">plast</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vx</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">w</span> ⇒ <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a> <span class="id" title="var">w</span> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EHold"><span class="id" title="constructor">EHold</span></a> (<a class="idref" href="minilola.lang.html#Varin"><span class="id" title="constructor">Varin</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">e</span> ⇒ <a class="idref" href="minilola.sem.html#hold"><span class="id" title="definition">hold</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <span class="id" title="var">y</span>) <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EHold"><span class="id" title="constructor">EHold</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">e</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">w</span> ⇒ <a class="idref" href="minilola.sem.html#hold"><span class="id" title="definition">hold</span></a> <span class="id" title="var">w</span> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:6"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="minilola.lang.html#EBinOp"><span class="id" title="constructor">EBinOp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> ⇒ <a class="idref" href="minilola.opt.html#binop"><span class="id" title="definition">binop</span></a> <span class="id" title="var">f</span> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <span class="id" title="var">e1</span> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>) (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem:10"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:5"><span class="id" title="variable">vx</span></a> <span class="id" title="var">e2</span> <a class="idref" href="minilola.typ_ext_soundness.html#rin:7"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:8"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:9"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
  Interpretation of typing environements as sets of stream expressions

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="ExprRel" class="idref" href="#ExprRel"><span class="id" title="definition">ExprRel</span></a> (<a id="G:12" class="idref" href="#G:12"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="t:14" class="idref" href="#t:14"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>) (<a id="rin:15" class="idref" href="#rin:15"><span class="id" title="binder">rin</span></a> : <a class="idref" href="minilola.lang.html#InMap"><span class="id" title="definition">InMap</span></a>) (<a id="e:16" class="idref" href="#e:16"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rout:17" class="idref" href="#rout:17"><span class="id" title="binder">rout</span></a>, <a class="idref" href="minilola.typ_soundness.html#EnvRel"><span class="id" title="definition">EnvRel</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:12"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:15"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:17"><span class="id" title="variable">rout</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:18" class="idref" href="#n:18"><span class="id" title="binder">n</span></a> <a id="vx:19" class="idref" href="#vx:19"><span class="id" title="binder">vx</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#PacingSem"><span class="id" title="definition">PacingSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:15"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:14"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:18"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:19"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:15"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:17"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:18"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Interpretation of typing environements as sets of specifications

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="SpecRel" class="idref" href="#SpecRel"><span class="id" title="definition">SpecRel</span></a> (<a id="G:20" class="idref" href="#G:20"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="rin:21" class="idref" href="#rin:21"><span class="id" title="binder">rin</span></a> : <a class="idref" href="minilola.lang.html#InMap"><span class="id" title="definition">InMap</span></a>) (<a id="s:22" class="idref" href="#s:22"><span class="id" title="binder">s</span></a> : <a class="idref" href="minilola.lang.html#Spec"><span class="id" title="definition">Spec</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rout1:23" class="idref" href="#rout1:23"><span class="id" title="binder">rout1</span></a>, <a class="idref" href="minilola.typ_soundness.html#EnvRel"><span class="id" title="definition">EnvRel</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:20"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:21"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout1:23"><span class="id" title="variable">rout1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="rout2:24" class="idref" href="#rout2:24"><span class="id" title="binder">rout2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.sem.html#Sem"><span class="id" title="definition">Sem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:22"><span class="id" title="variable">s</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#rin:21"><span class="id" title="variable">rin</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout1:23"><span class="id" title="variable">rout1</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout2:24"><span class="id" title="variable">rout2</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Semantic typing judgement for specifications 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="SpecTypeSem" class="idref" href="#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> (<a id="G:25" class="idref" href="#G:25"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="s:26" class="idref" href="#s:26"><span class="id" title="binder">s</span></a> : <a class="idref" href="minilola.lang.html#Spec"><span class="id" title="definition">Spec</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:27" class="idref" href="#rin:27"><span class="id" title="binder">rin</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#SpecRel"><span class="id" title="definition">SpecRel</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:25"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:27"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:26"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
Semantic typing judgement for expressions 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="ExprTypeSem" class="idref" href="#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> (<a id="G:28" class="idref" href="#G:28"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:29" class="idref" href="#x:29"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="e:30" class="idref" href="#e:30"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:32" class="idref" href="#rin:32"><span class="id" title="binder">rin</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#ExprRel"><span class="id" title="definition">ExprRel</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:28"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:32"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:30"><span class="id" title="variable">e</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Adequacy of the semantic model: semantic typing implies consistency.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="adequacy" class="idref" href="#adequacy"><span class="id" title="lemma">adequacy</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:33" class="idref" href="#s:33"><span class="id" title="binder">s</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> <a class="idref" href="minilola.typ_soundness.html#bot_tenv"><span class="id" title="definition">bot_tenv</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:33"><span class="id" title="variable">s</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_soundness.html#Consistent"><span class="id" title="definition">Consistent</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:33"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">rin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">rin</span> <a class="idref" href="minilola.typ_soundness.html#bot_pmap"><span class="id" title="definition">bot_pmap</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">rout2</span> &amp; <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">rout2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="minilola.typ_soundness.html#merge_bot"><span class="id" title="lemma">merge_bot</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab21"></a><h2 class="section">Soundness of the type system for expressions</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_val" class="idref" href="#expr_compat_val"><span class="id" title="lemma">expr_compat_val</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:34" class="idref" href="#G:34"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> (<a id="v:36" class="idref" href="#v:36"><span class="id" title="binder">v</span></a> : <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a>) (<a id="t:37" class="idref" href="#t:37"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:34"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:35"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EVal"><span class="id" title="constructor">EVal</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#v:36"><span class="id" title="variable">v</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#t:37"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_var_in" class="idref" href="#expr_compat_var_in"><span class="id" title="lemma">expr_compat_var_in</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:38" class="idref" href="#G:38"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) <a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> (<a id="y:40" class="idref" href="#y:40"><span class="id" title="binder">y</span></a> : <a class="idref" href="minilola.lang.html#IN"><span class="id" title="axiom">IN</span></a>) (<a id="t:41" class="idref" href="#t:41"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#PacingEnt"><span class="id" title="definition">PacingEnt</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:41"><span class="id" title="variable">t</span></a> (<a class="idref" href="minilola.lang.html#PVar"><span class="id" title="constructor">PVar</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:40"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:38"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:39"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EVar"><span class="id" title="constructor">EVar</span></a> (<a class="idref" href="minilola.lang.html#Varin"><span class="id" title="constructor">Varin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:40"><span class="id" title="variable">y</span></a>)) <a class="idref" href="minilola.typ_ext_soundness.html#t:41"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t</span> <span class="id" title="var">H1</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H2</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">rin</span> <span class="id" title="var">n</span> <span class="id" title="var">H3</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_var_out" class="idref" href="#expr_compat_var_out"><span class="id" title="lemma">expr_compat_var_out</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:42" class="idref" href="#G:42"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:43" class="idref" href="#x:43"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="y:44" class="idref" href="#y:44"><span class="id" title="binder">y</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="tcan:45" class="idref" href="#tcan:45"><span class="id" title="binder">tcan</span></a> <a id="tmust:46" class="idref" href="#tmust:46"><span class="id" title="binder">tmust</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#x:43"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:44"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#G:42"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:44"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tcan:45"><span class="id" title="variable">tcan</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#PacingEnt"><span class="id" title="definition">PacingEnt</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:46"><span class="id" title="variable">tmust</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tcan:45"><span class="id" title="variable">tcan</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:42"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:43"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EVar"><span class="id" title="constructor">EVar</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:44"><span class="id" title="variable">y</span></a>)) <a class="idref" href="minilola.typ_ext_soundness.html#tmust:46"><span class="id" title="variable">tmust</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">tcan</span> <span class="id" title="var">tmust</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> [[<span class="id" title="var">H3_1</span> <span class="id" title="var">H3_2</span>] <span class="id" title="var">H3_3</span>] <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hne</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">rin</span> <span class="id" title="var">n</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3_2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w'</span> &amp; <span class="id" title="var">Hw'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3_3</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">w'</span> <span class="id" title="var">H1</span> <span class="id" title="var">Hw'</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H3_3</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3_3</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#sync"><span class="id" title="definition">sync</span></a>, <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_add" class="idref" href="#expr_compat_add"><span class="id" title="lemma">expr_compat_add</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:47" class="idref" href="#G:47"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) <a id="x:48" class="idref" href="#x:48"><span class="id" title="binder">x</span></a> <a id="f:49" class="idref" href="#f:49"><span class="id" title="binder">f</span></a> (<a id="e1:50" class="idref" href="#e1:50"><span class="id" title="binder">e1</span></a> <a id="e2:51" class="idref" href="#e2:51"><span class="id" title="binder">e2</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="t:52" class="idref" href="#t:52"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:47"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e1:50"><span class="id" title="variable">e1</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:47"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:48"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e2:51"><span class="id" title="variable">e2</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:52"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:47"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:48"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EBinOp"><span class="id" title="constructor">EBinOp</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#f:49"><span class="id" title="variable">f</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e1:50"><span class="id" title="variable">e1</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e2:51"><span class="id" title="variable">e2</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#t:52"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">t</span> <span class="id" title="var">He1</span> <span class="id" title="var">He2</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He1</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He2</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e2</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_prev_out" class="idref" href="#expr_compat_prev_out"><span class="id" title="lemma">expr_compat_prev_out</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:53" class="idref" href="#G:53"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="y:55" class="idref" href="#y:55"><span class="id" title="binder">y</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="e:56" class="idref" href="#e:56"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="tcan:57" class="idref" href="#tcan:57"><span class="id" title="binder">tcan</span></a> <a id="tmust:58" class="idref" href="#tmust:58"><span class="id" title="binder">tmust</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:55"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#G:53"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:55"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tcan:57"><span class="id" title="variable">tcan</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#PacingEnt"><span class="id" title="definition">PacingEnt</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:58"><span class="id" title="variable">tmust</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tcan:57"><span class="id" title="variable">tcan</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:53"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:56"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:58"><span class="id" title="variable">tmust</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:53"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:54"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EPrev"><span class="id" title="constructor">EPrev</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:55"><span class="id" title="variable">y</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#e:56"><span class="id" title="variable">e</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#tmust:58"><span class="id" title="variable">tmust</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">tcan</span> <span class="id" title="var">tmust</span> <span class="id" title="var">Hne</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hent</span> <span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> <span class="id" title="var">H1</span>] <span class="id" title="var">H1'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">Hy</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w'</span> &amp; <span class="id" title="var">Hw'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hent</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">w'</span> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>, <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1'</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_prev_self" class="idref" href="#expr_compat_prev_self"><span class="id" title="lemma">expr_compat_prev_self</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:59" class="idref" href="#G:59"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:60" class="idref" href="#x:60"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="e:61" class="idref" href="#e:61"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="t:62" class="idref" href="#t:62"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#G:59"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:59"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:61"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:62"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:59"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:60"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EPrev"><span class="id" title="constructor">EPrev</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:60"><span class="id" title="variable">x</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#e:61"><span class="id" title="variable">e</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#t:62"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">Hx</span> <span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">H1_1</span> <span class="id" title="var">H1_2</span>] <span class="id" title="var">H1_3</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="minilola.typ_ext_soundness.html#plast"><span class="id" title="definition">plast</span></a> <span class="id" title="var">vx</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_prev_in" class="idref" href="#expr_compat_prev_in"><span class="id" title="lemma">expr_compat_prev_in</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:63" class="idref" href="#G:63"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:64" class="idref" href="#x:64"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="y:65" class="idref" href="#y:65"><span class="id" title="binder">y</span></a> : <a class="idref" href="minilola.lang.html#IN"><span class="id" title="axiom">IN</span></a>) (<a id="e:66" class="idref" href="#e:66"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="tmust:67" class="idref" href="#tmust:67"><span class="id" title="binder">tmust</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#PacingEnt"><span class="id" title="definition">PacingEnt</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:67"><span class="id" title="variable">tmust</span></a> (<a class="idref" href="minilola.lang.html#PVar"><span class="id" title="constructor">PVar</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:65"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:63"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:64"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:67"><span class="id" title="variable">tmust</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:63"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:64"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EPrev"><span class="id" title="constructor">EPrev</span></a> (<a class="idref" href="minilola.lang.html#Varin"><span class="id" title="constructor">Varin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:65"><span class="id" title="variable">y</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#e:66"><span class="id" title="variable">e</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#tmust:67"><span class="id" title="variable">tmust</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">tmust</span> <span class="id" title="var">Hent</span> <span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hent</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">rin</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>, <span class="id" title="var">n</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_hold_out" class="idref" href="#expr_compat_hold_out"><span class="id" title="lemma">expr_compat_hold_out</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:68" class="idref" href="#G:68"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:69" class="idref" href="#x:69"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="y:70" class="idref" href="#y:70"><span class="id" title="binder">y</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="e:71" class="idref" href="#e:71"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="tmust:72" class="idref" href="#tmust:72"><span class="id" title="binder">tmust</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#x:69"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:70"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#G:68"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:70"><span class="id" title="variable">y</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:68"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:69"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:71"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:72"><span class="id" title="variable">tmust</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:68"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:69"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EHold"><span class="id" title="constructor">EHold</span></a> (<a class="idref" href="minilola.lang.html#Varout"><span class="id" title="constructor">Varout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:70"><span class="id" title="variable">y</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#e:71"><span class="id" title="variable">e</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#tmust:72"><span class="id" title="variable">tmust</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">tmust</span> <span class="id" title="var">Hne</span> <span class="id" title="var">Hy</span> <span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> <span class="id" title="var">H1</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">w'</span> &amp; <span class="id" title="var">Hw'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#hold"><span class="id" title="definition">hold</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="expr_compat_hold_in" class="idref" href="#expr_compat_hold_in"><span class="id" title="lemma">expr_compat_hold_in</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:73" class="idref" href="#G:73"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:74" class="idref" href="#x:74"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="y:75" class="idref" href="#y:75"><span class="id" title="binder">y</span></a> : <a class="idref" href="minilola.lang.html#IN"><span class="id" title="axiom">IN</span></a>) (<a id="e:76" class="idref" href="#e:76"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="tmust:77" class="idref" href="#tmust:77"><span class="id" title="binder">tmust</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:73"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:74"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:76"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#tmust:77"><span class="id" title="variable">tmust</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:73"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:74"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.lang.html#EHold"><span class="id" title="constructor">EHold</span></a> (<a class="idref" href="minilola.lang.html#Varin"><span class="id" title="constructor">Varin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#y:75"><span class="id" title="variable">y</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#e:76"><span class="id" title="variable">e</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#tmust:77"><span class="id" title="variable">tmust</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span> <span class="id" title="var">tmust</span> <span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">vx</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#hold"><span class="id" title="definition">hold</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The typing rules for expressions are sound with respect to semantic typing

</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="expr_type_sound" class="idref" href="#expr_type_sound"><span class="id" title="lemma">expr_type_sound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:78" class="idref" href="#G:78"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="x:79" class="idref" href="#x:79"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="e:80" class="idref" href="#e:80"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="t:81" class="idref" href="#t:81"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext.html#ExprTypeSyn"><span class="id" title="inductive">ExprTypeSyn</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:78"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:80"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:81"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:78"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:80"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:81"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_val"><span class="id" title="lemma">expr_compat_val</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_add"><span class="id" title="lemma">expr_compat_add</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_var_out"><span class="id" title="lemma">expr_compat_var_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_var_in"><span class="id" title="lemma">expr_compat_var_in</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_hold_out"><span class="id" title="lemma">expr_compat_hold_out</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_hold_in"><span class="id" title="lemma">expr_compat_hold_in</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_prev_out"><span class="id" title="lemma">expr_compat_prev_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_prev_in"><span class="id" title="lemma">expr_compat_prev_in</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_compat_prev_self"><span class="id" title="lemma">expr_compat_prev_self</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h2 class="section">Soundness of the Type System for Specifications</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="witness_aux" class="idref" href="#witness_aux"><span class="id" title="definition">witness_aux</span></a> (<a id="rin:82" class="idref" href="#rin:82"><span class="id" title="binder">rin</span></a> : <a class="idref" href="minilola.lang.html#InMap"><span class="id" title="definition">InMap</span></a>) (<a id="rout:83" class="idref" href="#rout:83"><span class="id" title="binder">rout</span></a> : <a class="idref" href="minilola.typ_soundness.html#Pmap"><span class="id" title="definition">Pmap</span></a>) (<a id="e:84" class="idref" href="#e:84"><span class="id" title="binder">e</span></a> : <a class="idref" href="minilola.lang.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="x:85" class="idref" href="#x:85"><span class="id" title="binder">x</span></a> : <a class="idref" href="minilola.lang.html#OUT"><span class="id" title="axiom">OUT</span></a>) (<a id="t:86" class="idref" href="#t:86"><span class="id" title="binder">t</span></a> : <a class="idref" href="minilola.lang.html#Pacing"><span class="id" title="inductive">Pacing</span></a>) (<a id="n:87" class="idref" href="#n:87"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:82"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:87"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#n:87"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:85"><span class="id" title="variable">x</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="minilola.typ_ext_soundness.html#e:84"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:82"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:83"><span class="id" title="variable">rout</span></a> 0<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">[]</span><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="vx:93" class="idref" href="#vx:93"><span class="id" title="binder">vx</span></a>, <a id="px:94" class="idref" href="#px:94"><span class="id" title="binder">px</span></a>) := <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux:88"><span class="id" title="definition">witness_aux</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:82"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:83"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:84"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:85"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:87"><span class="id" title="variable">n</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:85"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#vx:93"><span class="id" title="variable">vx</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#px:94"><span class="id" title="variable">px</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#e:84"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:82"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:83"><span class="id" title="variable">rout</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:87"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:93"><span class="id" title="variable">vx</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#px:94"><span class="id" title="variable">px</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#n:87"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">[]</span><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="vx:90" class="idref" href="#vx:90"><span class="id" title="binder">vx</span></a>, <a id="px:91" class="idref" href="#px:91"><span class="id" title="binder">px</span></a>) := <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux:88"><span class="id" title="definition">witness_aux</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:82"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:83"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:84"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:85"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:86"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:87"><span class="id" title="variable">n</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:90"><span class="id" title="variable">vx</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#px:91"><span class="id" title="variable">px</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="witness" class="idref" href="#witness"><span class="id" title="definition">witness</span></a> <a id="rin:95" class="idref" href="#rin:95"><span class="id" title="binder">rin</span></a> <a id="rout:96" class="idref" href="#rout:96"><span class="id" title="binder">rout</span></a> <a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a> <a id="n:100" class="idref" href="#n:100"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a> := <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:95"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:96"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:99"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:100"><span class="id" title="variable">n</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="witness_aux_length" class="idref" href="#witness_aux_length"><span class="id" title="lemma">witness_aux_length</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:101" class="idref" href="#rin:101"><span class="id" title="binder">rin</span></a> <a id="rout:102" class="idref" href="#rout:102"><span class="id" title="binder">rout</span></a> <a id="e:103" class="idref" href="#e:103"><span class="id" title="binder">e</span></a> <a id="x:104" class="idref" href="#x:104"><span class="id" title="binder">x</span></a> <a id="t:105" class="idref" href="#t:105"><span class="id" title="binder">t</span></a> <a id="n:106" class="idref" href="#n:106"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:101"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:102"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:103"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:104"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:105"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:106"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:106"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">n</span> <span class="id" title="var">IH</span> ]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">w</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="EnvRel_update" class="idref" href="#EnvRel_update"><span class="id" title="lemma">EnvRel_update</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="G:107" class="idref" href="#G:107"><span class="id" title="binder">G</span></a> <a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a> <a id="rin:109" class="idref" href="#rin:109"><span class="id" title="binder">rin</span></a> <a id="rout:110" class="idref" href="#rout:110"><span class="id" title="binder">rout</span></a> <a id="x:111" class="idref" href="#x:111"><span class="id" title="binder">x</span></a> <a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#G:107"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_soundness.html#EnvRel"><span class="id" title="definition">EnvRel</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:107"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:109"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:110"><span class="id" title="variable">rout</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprRel"><span class="id" title="definition">ExprRel</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:107"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:109"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_soundness.html#EnvRel"><span class="id" title="definition">EnvRel</span></a> (<a class="idref" href="minilola.lang.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:107"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:108"><span class="id" title="variable">t</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#rin:109"><span class="id" title="variable">rin</span></a> (<a class="idref" href="minilola.typ_soundness.html#pextend"><span class="id" title="definition">pextend</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:110"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:111"><span class="id" title="variable">x</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:109"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:110"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:108"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">t</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">Hx</span> <span class="id" title="var">H1</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">He</span> <span class="id" title="var">rout</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>] <span class="id" title="var">H3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.lang.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#pextend"><span class="id" title="definition">pextend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">ty</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.lang.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#pextend"><span class="id" title="definition">pextend</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> →. <span class="id" title="var">now</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">ty</span> <span class="id" title="var">w</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.lang.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#pextend"><span class="id" title="definition">pextend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">injection</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_compat_nil" class="idref" href="#spec_compat_nil"><span class="id" title="lemma">spec_compat_nil</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="G:113" class="idref" href="#G:113"><span class="id" title="binder">G</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:113"><span class="id" title="variable">G</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="plast_helper_1" class="idref" href="#plast_helper_1"><span class="id" title="lemma">plast_helper_1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="vx:114" class="idref" href="#vx:114"><span class="id" title="binder">vx</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:115" class="idref" href="#n:115"><span class="id" title="binder">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#plast"><span class="id" title="definition">plast</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:114"><span class="id" title="variable">vx</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:114"><span class="id" title="variable">vx</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vx</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">x</span>|] <span class="id" title="var">vx</span> [<span class="id" title="var">n</span> <span class="id" title="var">IH</span>] ]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> 0.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> 0.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="is_prefix" class="idref" href="#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a id="vx:116" class="idref" href="#vx:116"><span class="id" title="binder">vx</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="minilola.lang.html#value"><span class="id" title="axiom">value</span></a>)) (<a id="w:117" class="idref" href="#w:117"><span class="id" title="binder">w</span></a> : <a class="idref" href="minilola.lang.html#stream"><span class="id" title="definition">stream</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="minilola.typ_ext_soundness.html#vx:116"><span class="id" title="variable">vx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">[]</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">v</span><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">vx</span> ⇒ <a class="idref" href="minilola.typ_ext_soundness.html#is_prefix:118"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:116"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#w:117"><span class="id" title="variable">w</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#w:117"><span class="id" title="variable">w</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:116"><span class="id" title="variable">vx</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prefix_helper_1" class="idref" href="#is_prefix_helper_1"><span class="id" title="lemma">is_prefix_helper_1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="v:120" class="idref" href="#v:120"><span class="id" title="binder">v</span></a> <a id="vx:121" class="idref" href="#vx:121"><span class="id" title="binder">vx</span></a> <a id="w:122" class="idref" href="#w:122"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#v:120"><span class="id" title="variable">v</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#vx:121"><span class="id" title="variable">vx</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#w:122"><span class="id" title="variable">w</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#plast"><span class="id" title="definition">plast</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#v:120"><span class="id" title="variable">v</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#vx:121"><span class="id" title="variable">vx</span></a>) <a class="idref" href="minilola.opt.html#b8382ebd4d1ecdc4b5385bb249fc75b4"><span class="id" title="notation">≤</span></a> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#w:122"><span class="id" title="variable">w</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:121"><span class="id" title="variable">vx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">vx</span> <span class="id" title="var">w</span> [<span class="id" title="var">H1</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vx</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">v</span> <span class="id" title="var">vx</span> <span class="id" title="var">IH</span> ]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">w</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prefix_helper_2" class="idref" href="#is_prefix_helper_2"><span class="id" title="lemma">is_prefix_helper_2</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="px:123" class="idref" href="#px:123"><span class="id" title="binder">px</span></a> <a id="w:124" class="idref" href="#w:124"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#px:123"><span class="id" title="variable">px</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#w:124"><span class="id" title="variable">w</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#plast"><span class="id" title="definition">plast</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:123"><span class="id" title="variable">px</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#w:124"><span class="id" title="variable">w</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:123"><span class="id" title="variable">px</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H1'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">px</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHpx</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">w</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">px</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">w</span> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">px</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="PartialExprSem_less_def" class="idref" href="#PartialExprSem_less_def"><span class="id" title="lemma">PartialExprSem_less_def</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:125" class="idref" href="#rin:125"><span class="id" title="binder">rin</span></a> <a id="rout:126" class="idref" href="#rout:126"><span class="id" title="binder">rout</span></a> <a id="rout':127" class="idref" href="#rout':127"><span class="id" title="binder">rout'</span></a> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a> <a id="px:129" class="idref" href="#px:129"><span class="id" title="binder">px</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#rout:126"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:129"><span class="id" title="variable">px</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#rout':127"><span class="id" title="variable">rout'</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:128"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#rout':127"><span class="id" title="variable">rout'</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:128"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:129"><span class="id" title="variable">px</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="e:130" class="idref" href="#e:130"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:129"><span class="id" title="variable">px</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:130"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:125"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:126"><span class="id" title="variable">rout</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:129"><span class="id" title="variable">px</span></a>) <a class="idref" href="minilola.opt.html#b8382ebd4d1ecdc4b5385bb249fc75b4"><span class="id" title="notation">≤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#ExprSem"><span class="id" title="definition">ExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:130"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#rin:125"><span class="id" title="variable">rin</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:126"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout':127"><span class="id" title="variable">rout'</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#px:129"><span class="id" title="variable">px</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">y</span>|<span class="id" title="var">y</span>] | | [<span class="id" title="var">y</span>|<span class="id" title="var">y</span>] | [<span class="id" title="var">y</span>|<span class="id" title="var">y</span>] | ]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hne</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">rout</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#prev_less_def"><span class="id" title="lemma">prev_less_def</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hne</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">px</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">vx</span>|] <span class="id" title="var">px</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">rout'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#is_prefix_helper_1"><span class="id" title="lemma">is_prefix_helper_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">rout'</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H4</span> := <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#is_prefix_helper_1"><span class="id" title="lemma">is_prefix_helper_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span> |-*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#plast"><span class="id" title="definition">plast</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlast</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">rout'</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#last"><span class="id" title="definition">last</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.sem.html#prev"><span class="id" title="definition">prev</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">rout'</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#is_prefix_helper_2"><span class="id" title="lemma">is_prefix_helper_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">rout</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#prev_less_def"><span class="id" title="lemma">prev_less_def</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#hold_less_def"><span class="id" title="lemma">hold_less_def</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hne</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">rout</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hw</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#hold_less_def"><span class="id" title="lemma">hold_less_def</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHe1</span>, <span class="id" title="var">IHe2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_prefix_witness" class="idref" href="#is_prefix_witness"><span class="id" title="lemma">is_prefix_witness</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:131" class="idref" href="#rin:131"><span class="id" title="binder">rin</span></a> <a id="rout:132" class="idref" href="#rout:132"><span class="id" title="binder">rout</span></a> <a id="e:133" class="idref" href="#e:133"><span class="id" title="binder">e</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a> <a id="t:135" class="idref" href="#t:135"><span class="id" title="binder">t</span></a> <a id="n:136" class="idref" href="#n:136"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#is_prefix"><span class="id" title="definition">is_prefix</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:131"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:132"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:133"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:135"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:136"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:131"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:132"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:133"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:135"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hl</span> := <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux_length"><span class="id" title="lemma">witness_aux_length</span></a> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hl</span> := <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux_length"><span class="id" title="lemma">witness_aux_length</span></a> <span class="id" title="var">rin</span> <span class="id" title="var">rout</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>, <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="witness_is_some" class="idref" href="#witness_is_some"><span class="id" title="lemma">witness_is_some</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:137" class="idref" href="#rin:137"><span class="id" title="binder">rin</span></a> <a id="rout:138" class="idref" href="#rout:138"><span class="id" title="binder">rout</span></a> <a id="e:139" class="idref" href="#e:139"><span class="id" title="binder">e</span></a> <a id="x:140" class="idref" href="#x:140"><span class="id" title="binder">x</span></a> <a id="t:141" class="idref" href="#t:141"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:142" class="idref" href="#n:142"><span class="id" title="binder">n</span></a> <a id="vx:143" class="idref" href="#vx:143"><span class="id" title="binder">vx</span></a>, <a class="idref" href="minilola.sem.html#PacingSem"><span class="id" title="definition">PacingSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:137"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:141"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:142"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#vx:143"><span class="id" title="variable">vx</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:139"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:137"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:138"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:142"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:144" class="idref" href="#n:144"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:137"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:141"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:144"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:137"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:138"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:139"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:141"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:144"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:137"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:141"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:144"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:137"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:138"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:139"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:141"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:144"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H1</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">n</span> [<span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span>] ]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>, <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="EqSem_iff" class="idref" href="#EqSem_iff"><span class="id" title="lemma">EqSem_iff</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a> <a id="t:146" class="idref" href="#t:146"><span class="id" title="binder">t</span></a> <a id="e:147" class="idref" href="#e:147"><span class="id" title="binder">e</span></a> <a id="rin:148" class="idref" href="#rin:148"><span class="id" title="binder">rin</span></a> <a id="rout:149" class="idref" href="#rout:149"><span class="id" title="binder">rout</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:150" class="idref" href="#n:150"><span class="id" title="binder">n</span></a>, <a class="idref" href="minilola.sem.html#PacingSem"><span class="id" title="definition">PacingSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:148"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:146"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:150"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:149"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:150"><span class="id" title="variable">n</span></a> <a class="idref" href="minilola.opt.html#b8382ebd4d1ecdc4b5385bb249fc75b4"><span class="id" title="notation">≤</span></a> <a class="idref" href="minilola.sem.html#ExprSem"><span class="id" title="definition">ExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#rin:148"><span class="id" title="variable">rin</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:149"><span class="id" title="variable">rout</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:150"><span class="id" title="variable">n</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:151" class="idref" href="#n:151"><span class="id" title="binder">n</span></a>, <a class="idref" href="minilola.sem.html#PacingSem"><span class="id" title="definition">PacingSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:148"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:146"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:151"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:149"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:151"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.sem.html#EqSem"><span class="id" title="definition">EqSem</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#x:145"><span class="id" title="variable">x</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:146"><span class="id" title="variable">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:147"><span class="id" title="variable">e</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#rin:148"><span class="id" title="variable">rin</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:149"><span class="id" title="variable">rout</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <span class="id" title="var">rin</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H3</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">rout</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="witness_partial_sem" class="idref" href="#witness_partial_sem"><span class="id" title="lemma">witness_partial_sem</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="rin:152" class="idref" href="#rin:152"><span class="id" title="binder">rin</span></a> <a id="rout:153" class="idref" href="#rout:153"><span class="id" title="binder">rout</span></a> <a id="e:154" class="idref" href="#e:154"><span class="id" title="binder">e</span></a> <a id="x:155" class="idref" href="#x:155"><span class="id" title="binder">x</span></a> <a id="t:156" class="idref" href="#t:156"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:157" class="idref" href="#n:157"><span class="id" title="binder">n</span></a> <a id="p:158" class="idref" href="#p:158"><span class="id" title="binder">p</span></a>, <a class="idref" href="minilola.sem.html#PacingSem"><span class="id" title="definition">PacingSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:152"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:156"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:157"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#p:158"><span class="id" title="variable">p</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:152"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:153"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:157"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:159" class="idref" href="#n:159"><span class="id" title="binder">n</span></a> <a id="vn:160" class="idref" href="#vn:160"><span class="id" title="binder">vn</span></a> <a id="p:161" class="idref" href="#p:161"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:152"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:153"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:156"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:159"><span class="id" title="variable">n</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#vn:160"><span class="id" title="variable">vn</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#p:161"><span class="id" title="variable">p</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:152"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:156"><span class="id" title="variable">t</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:159"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#vn:160"><span class="id" title="variable">vn</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#vn:160"><span class="id" title="variable">vn</span></a> <a class="idref" href="minilola.opt.html#b8382ebd4d1ecdc4b5385bb249fc75b4"><span class="id" title="notation">≤</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem"><span class="id" title="definition">PartialExprSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#p:161"><span class="id" title="variable">p</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rin:152"><span class="id" title="variable">rin</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#rout:153"><span class="id" title="variable">rout</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#n:159"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#vn:160"><span class="id" title="variable">vn</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">H</span> <span class="id" title="var">n</span> <span class="id" title="var">vn</span> <span class="id" title="var">p</span> <span class="id" title="var">Hwit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hwit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht</span>; [<span class="id" title="tactic">split</span>|].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">injection</span> <span class="id" title="var">Hwit</span> <span class="id" title="keyword">as</span> &lt;- &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">Hwit</span> <span class="id" title="keyword">as</span> &lt;- &lt;-.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">Hwit</span> <span class="id" title="keyword">as</span> &lt;- &lt;-.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht</span>; [<span class="id" title="tactic">split</span>|].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Hwit</span> <span class="id" title="keyword">as</span> &lt;- &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Hwit</span> <span class="id" title="keyword">as</span> &lt;- &lt;-. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">Hwit</span> <span class="id" title="keyword">as</span> &lt;- &lt;-.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_compat_cons" class="idref" href="#spec_compat_cons"><span class="id" title="lemma">spec_compat_cons</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="G:162" class="idref" href="#G:162"><span class="id" title="binder">G</span></a> <a id="s:163" class="idref" href="#s:163"><span class="id" title="binder">s</span></a> <a id="x:164" class="idref" href="#x:164"><span class="id" title="binder">x</span></a> <a id="e:165" class="idref" href="#e:165"><span class="id" title="binder">e</span></a> <a id="t:166" class="idref" href="#t:166"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#G:162"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:164"><span class="id" title="variable">x</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#ExprTypeSem"><span class="id" title="definition">ExprTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:162"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:164"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:165"><span class="id" title="variable">e</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:166"><span class="id" title="variable">t</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> (<a class="idref" href="minilola.lang.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:162"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#x:164"><span class="id" title="variable">x</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:166"><span class="id" title="variable">t</span></a>) <a class="idref" href="minilola.typ_ext_soundness.html#s:163"><span class="id" title="variable">s</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:162"><span class="id" title="variable">G</span></a> (<a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="minilola.typ_ext_soundness.html#x:164"><span class="id" title="variable">x</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#t:166"><span class="id" title="variable">t</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#e:165"><span class="id" title="variable">e</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="minilola.typ_ext_soundness.html#s:163"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">t</span> <span class="id" title="var">Hx</span> <span class="id" title="var">He</span> <span class="id" title="var">Hs</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">He'</span> := <span class="id" title="var">He</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">rin</span> (<a class="idref" href="minilola.typ_soundness.html#pextend"><span class="id" title="definition">pextend</span></a> <span class="id" title="var">rout1</span> <span class="id" title="var">x</span> (<a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">rout2</span> <span class="id" title="var">Hrout2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#EnvRel_update"><span class="id" title="lemma">EnvRel_update</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx'</span> : <span class="id" title="var">rout1</span> <span class="id" title="var">x</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="minilola.typ_soundness.html#merge_pextend"><span class="id" title="lemma">merge_pextend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrout2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hrout2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#EqSem_iff"><span class="id" title="lemma">EqSem_iff</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <span class="id" title="tactic">at</span> 1, <a class="idref" href="minilola.typ_soundness.html#extend"><span class="id" title="definition">extend</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hn</span> := <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux_length"><span class="id" title="lemma">witness_aux_length</span></a> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hn</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#PartialExprSem_less_def"><span class="id" title="lemma">PartialExprSem_less_def</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#extend"><span class="id" title="definition">extend</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#is_prefix_witness"><span class="id" title="lemma">is_prefix_witness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#extend"><span class="id" title="definition">extend</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux_length"><span class="id" title="lemma">witness_aux_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_is_some"><span class="id" title="lemma">witness_is_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He1</span> <span class="id" title="var">He2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux_length"><span class="id" title="lemma">witness_aux_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="minilola.typ_ext_soundness.html#witness_partial_sem"><span class="id" title="lemma">witness_partial_sem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He'</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">o</span> <span class="id" title="var">l</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ht</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="minilola.typ_ext_soundness.html#witness_partial_sem"><span class="id" title="lemma">witness_partial_sem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He'</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#extend"><span class="id" title="definition">extend</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hwit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#merge"><span class="id" title="definition">merge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_soundness.html#extend"><span class="id" title="definition">extend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.lang.html#OUT_dec"><span class="id" title="axiom">OUT_dec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness"><span class="id" title="definition">witness</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.typ_ext_soundness.html#witness_aux"><span class="id" title="definition">witness_aux</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hwit</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="minilola.sem.html#PacingSemBool"><span class="id" title="definition">PacingSemBool</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.sem.html#PacingSemBool_true_iff"><span class="id" title="lemma">PacingSemBool_true_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_compat_reorder" class="idref" href="#spec_compat_reorder"><span class="id" title="lemma">spec_compat_reorder</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="G:167" class="idref" href="#G:167"><span class="id" title="binder">G</span></a> (<a id="s1:168" class="idref" href="#s1:168"><span class="id" title="binder">s1</span></a> <a id="s2:169" class="idref" href="#s2:169"><span class="id" title="binder">s2</span></a> : <a class="idref" href="minilola.lang.html#Spec"><span class="id" title="definition">Spec</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">Permutation</span> <a class="idref" href="minilola.typ_ext_soundness.html#s1:168"><span class="id" title="variable">s1</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s2:169"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:167"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s1:168"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:167"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s2:169"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">Hperm</span> <span class="id" title="var">Htype</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">HG</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Htype</span> <span class="id" title="var">rin</span> <span class="id" title="var">rout1</span> <span class="id" title="var">HG</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">rout2</span> <span class="id" title="var">Hsem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">rout2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.sem.html#Sem_Permut"><span class="id" title="lemma">Sem_Permut</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="spec_type_sound" class="idref" href="#spec_type_sound"><span class="id" title="lemma">spec_type_sound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:170" class="idref" href="#G:170"><span class="id" title="binder">G</span></a> : <a class="idref" href="minilola.lang.html#TypeEnv"><span class="id" title="definition">TypeEnv</span></a>) (<a id="s:171" class="idref" href="#s:171"><span class="id" title="binder">s</span></a> : <a class="idref" href="minilola.lang.html#Spec"><span class="id" title="definition">Spec</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext.html#SpecTypeSyn"><span class="id" title="inductive">SpecTypeSyn</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:170"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:171"><span class="id" title="variable">s</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#SpecTypeSem"><span class="id" title="definition">SpecTypeSem</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#G:170"><span class="id" title="variable">G</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:171"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#spec_compat_nil"><span class="id" title="lemma">spec_compat_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="minilola.typ_ext_soundness.html#spec_compat_reorder"><span class="id" title="lemma">spec_compat_reorder</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Permutation_sym</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#expr_type_sound"><span class="id" title="lemma">expr_type_sound</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#spec_compat_cons"><span class="id" title="lemma">spec_compat_cons</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_soundness" class="idref" href="#type_soundness"><span class="id" title="lemma">type_soundness</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="s:172" class="idref" href="#s:172"><span class="id" title="binder">s</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="minilola.typ_ext.html#SpecTypeSyn"><span class="id" title="inductive">SpecTypeSyn</span></a> <a class="idref" href="minilola.typ_soundness.html#bot_tenv"><span class="id" title="definition">bot_tenv</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:172"><span class="id" title="variable">s</span></a> <a class="idref" href="http://rocq-prover.org/doc/V9.0.1/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="minilola.typ_soundness.html#Consistent"><span class="id" title="definition">Consistent</span></a> <a class="idref" href="minilola.typ_ext_soundness.html#s:172"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#adequacy"><span class="id" title="lemma">adequacy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="minilola.typ_ext_soundness.html#spec_type_sound"><span class="id" title="lemma">spec_type_sound</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://rocq-prover.org/">coqdoc</a>
</div>

</div>

</body>
</html>